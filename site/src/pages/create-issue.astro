---
import Layout from '@/layouts/Layout.astro';

const issueTypes = [
  {
    type: 'bug',
    title: 'üêõ Bug Report',
    description: 'Report a bug or issue with FortiPath',
    color: 'error',
    template: 'bug_report.md',
  },
  {
    type: 'feature',
    title: '‚ú® Feature Request',
    description: 'Suggest a new feature or enhancement',
    color: 'success',
    template: 'feature_request.md',
  },
  {
    type: 'task',
    title: 'üìã Task',
    description: 'Create a general task or todo item',
    color: 'info',
    template: '',
  },
  {
    type: 'question',
    title: '‚ùì Question',
    description: 'Ask a question about FortiPath',
    color: 'warning',
    template: '',
  },
];
---

<Layout title="Create Issue">
  <div class="max-w-5xl mx-auto">
    <div class="mb-8">
      <h1 class="text-4xl font-bold mb-4">Create an Issue</h1>
      <p class="text-lg opacity-80">
        Choose the type of issue you want to create. You'll be redirected to
        GitHub to complete the process.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6 mb-8">
      {
        issueTypes.map((issueType) => (
          <div class={`card bg-base-200 shadow-xl hover:shadow-2xl transition-all hover:scale-105`}>
            <div class="card-body">
              <h2 class="card-title text-2xl">{issueType.title}</h2>
              <p class="opacity-80">{issueType.description}</p>
              <div class="card-actions justify-end mt-4">
                <a
                  href={
                    issueType.template
                      ? `https://github.com/cywf/FortiPath/issues/new?template=${issueType.template}&labels=${issueType.type}`
                      : `https://github.com/cywf/FortiPath/issues/new?labels=${issueType.type}`
                  }
                  target="_blank"
                  rel="noopener noreferrer"
                  class={`btn btn-${issueType.color}`}
                >
                  Create {issueType.type}
                </a>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <div class="divider">OR</div>

    <div class="card bg-base-200 shadow-xl">
      <div class="card-body text-center">
        <h2 class="card-title justify-center text-2xl">Browse All Templates</h2>
        <p class="opacity-80">
          View all available issue templates on GitHub and choose the one that
          fits your needs.
        </p>
        <div class="card-actions justify-center mt-4">
          <a
            href="https://github.com/cywf/FortiPath/issues/new/choose"
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary btn-lg"
          >
            View All Templates on GitHub
          </a>
        </div>
      </div>
    </div>

    <div class="alert alert-info mt-8">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        class="stroke-current shrink-0 w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
      <div>
        <h3 class="font-bold">Note</h3>
        <div class="text-sm">
          You'll need to be signed in to GitHub to create an issue. Please read
          our{' '}
          <a
            href="https://github.com/cywf/FortiPath/blob/main/docs/Contributing.md"
            class="link"
            target="_blank"
            rel="noopener noreferrer"
          >
            Contributing Guidelines
          </a>{' '}
          before submitting.
        </div>
      </div>
    </div>
  </div>
</Layout>
